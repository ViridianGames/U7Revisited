  .funcnumber 0800H  ;* Bed.
  .data
L0000: db '"This is no time to sleep! Look alive!"'
L0027: db 00
L0028: db ' glares. "This is no time to sleep! Look alive!"'
L0058: db 00
  .code
  .argc 0001H
  .localc 000CH
  .externsize 0004H
  .extern 0900H
  .extern 0801H
  .extern 0624H
  .extern 093CH
0000: 39 7E 00 00  calli 007E, 0
0004: 14   push false
0005: 43 E8 02   popf flag:[02E8]
0008: 24 00 00   call [0000]   ; 0900H
000B: 12 01 00   pop [0001]
000E: 38 8E 00 00  callis 008E, 0  ;* In combat?
0012: 05 45 00   jne 005A
0015: 1F 00 00   pushi 0000H   ; 0
0018: 21 01 00   push [0001]
001B: 39 03 00 02  calli _SwitchTalkTo@2  ; 0003
001F: 21 01 00   push [0001]
0022: 38 27 00 01  callis _GetPlayerName@1  ; 0027
0026: 12 02 00   pop [0002]
0029: 21 01 00   push [0001]
002C: 1F 9C FE   pushi FE9CH   ; -356
002F: 22   cmpeq
0030: 05 07 00   jne 003A
0033: 1C 00 00   addsi L0000   ; "This is no time ...
0036: 33   say
0037: 06 07 00   jmp 0041
003A: 2F 02 00   addsv [0002]
003D: 1C 28 00   addsi L0028   ;  glares. "This is...
0040: 33   say
0041: 21 00 00   push [0000]
0044: 24 01 00   call [0001]   ; 0801H
0047: 05 06 00   jne 0050
004A: 21 00 00   push [0000]
004D: 47 24 06   calle 0624H   ; 1572
0050: 21 01 00   push [0001]
0053: 39 04 00 01  calli _HideNPC@1  ; 0004
0057: 06 E0 00   jmp 013A
005A: 21 00 00   push [0000]  ;* Push bed.
005D: 38 12 00 01  callis _GetItemFrame@1  ; 0012
0061: 12 03 00   pop [0003]  ;* Frame.
0064: 21 00 00   push [0000]
0067: 38 11 00 01  callis _GetItemType@1  ; 0011
006B: 12 04 00   pop [0004]
006E: 21 03 00   push [0003]
0071: 1F 03 00   pushi 0003H   ; 3
0074: 16   cmpgt   ; Frame > 3?
0075: 21 00 00   push [0000]
0078: 24 01 00   call [0001]   ; 0801H  Bedroll?
007B: 10   not
007C: 0E   and
007D: 05 7A 00   jne 00FA  ;* Jmp if bedroll.
0080: 21 00 00   push [0000]
0083: 38 18 00 01  callis 0018, 1
0087: 12 05 00   pop [0005]
008A: 1F 00 00   pushi 0000H   ; 0
008D: 1F 02 00   pushi 0002H   ; 2
0090: 21 04 00   push [0004]
0093: 21 00 00   push [0000]
0096: 38 35 00 04  callis 0035, 4
009A: 12 06 00   pop [0006]
009D: 2E   sloop
009E: 02 07 00 08 00 09 00 06 00 51 00  db 2 ???
009F:   db 7
00A0:   db 0
00A1:   db 8
00A2:   db 0
00A3:   db 9
00A4:   db 0
00A5:   db 6
00A6:   db 0
00A7:   db 51
00A8:   db 0
00A9: 21 09 00   push [0009]
00AC: 38 12 00 01  callis _GetItemFrame@1  ; 0012
00B0: 1F 02 00   pushi 0002H   ; 2
00B3: 19   cmple
00B4: 05 40 00   jne 00F7
00B7: 21 09 00   push [0009]
00BA: 38 18 00 01  callis 0018, 1
00BE: 12 0A 00   pop [000A]
00C1: 1F 01 00   pushi 0001H   ; 1
00C4: 26 0A 00   aidx [000A]
00C7: 1F 01 00   pushi 0001H   ; 1
00CA: 26 05 00   aidx [0005]
00CD: 22   cmpeq
00CE: 1F 02 00   pushi 0002H   ; 2
00D1: 26 0A 00   aidx [000A]
00D4: 1F 02 00   pushi 0002H   ; 2
00D7: 26 05 00   aidx [0005]
00DA: 22   cmpeq
00DB: 1F 03 00   pushi 0003H   ; 3
00DE: 26 0A 00   aidx [000A]
00E1: 1F 01 00   pushi 0001H   ; 1
00E4: 09   add
00E5: 1F 03 00   pushi 0003H   ; 3
00E8: 26 05 00   aidx [0005]
00EB: 22   cmpeq
00EC: 0E   and
00ED: 0E   and
00EE: 05 06 00   jne 00F7
00F1: 21 09 00   push [0009]
00F4: 12 00 00   pop [0000]
00F7: 06 A4 FF   jmp 009E
00FA: 3E   push itemref
00FB: 24 01 00   call [0001]   ; 0801H  Bedroll?
00FE: 05 17 00   jne 0118  ;* Jump if not.
0101: 1F 00 00   pushi 0000H   ; 0
0104: 1F 1E 00   pushi 001EH   ; 30
0107: 44 54   pushw 4454H   ; 17492
0109: 44 23   pushw 1E23H   ; 7715
010B: 1E 04 00   arrc 0004H   ; 4
010E: 1F 9C FE   pushi FE9CH   ; -356
0111: 38 01 00 02  callis 0001, 2
0115: 12 0B 00   pop [000B]
0118: 38 23 00 00  callis _GetPartyMembers@0  ; 0023
011C: 1F 9C FE   pushi FE9CH   ; -356
011F: 38 1B 00 01  callis 001B, 1
0123: 24 03 00   call [0003]   ; 093CH
0126: 12 0C 00   pop [000C]
0129: 1F 0E 00   pushi 000EH   ; 14
012C: 1F 9C FE   pushi FE9CH   ; -356
012F: 39 1D 00 02  calli 001D, 2
0133: 21 00 00   push [0000]
0136: 39 77 00 01  calli 0077, 1  ;* Nap time.
013A: 25   ret
