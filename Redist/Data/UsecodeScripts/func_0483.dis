  .funcnumber 0483H
  .data
L0000: db 'bye'
L0003: db 00
L0004: db 'job'
L0007: db 00
L0008: db 'name'
L000C: db 00
L000D: db 'locket'
L0013: db 00
L0014: db 'strangers'
L001D: db 00
L001E: db 'You see a humble-looking older woman. She gives you a friend'
 db 'ly smile.'
L0063: db 00
L0064: db 'Magenta smiles. "Good day, '
L007F: db 00
L0080: db '. May I help thee?"'
L0093: db 00
L0094: db 'name'
L0098: db 00
L0099: db '"I am Magenta, of New Magincia."'
L00B9: db 00
L00BA: db 'name'
L00BE: db 00
L00BF: db 'New Magincia'
L00CB: db 00
L00CC: db 'job'
L00CF: db 00
L00D0: db '"I am the Mayor of New Magincia, and the wife of Boris."'
L0108: db 00
L0109: db 'Boris'
L010E: db 00
L010F: db 'Mayor'
L0114: db 00
L0115: db 'Mayor'
L011A: db 00
L011B: db '"It is a job that requires little actual administration. I m'
 db 'ostly try to make sure that everyone is getting along with e'
 db 'veryone else. Apart from that, the town practically runs its'
 db 'elf."'
L01D4: db 00
L01D5: db 'Mayor'
L01DA: db 00
L01DB: db 'administration'
L01E9: db 00
L01EA: db 'administration'
L01F8: db 00
L01F9: db '"Why even the taxes here are less severe than anywhere else '
 db 'in Britannia. The Britannian Tax Council sometimes forgets t'
 db 'o come collecting here for years on end."'
L029A: db 00
L029B: db 'administration'
L02A9: db 00
L02AA: db 'Boris'
L02AF: db 00
L02B0: db '"Boris is the local innkeeper and a bit of a scoundrel if I '
 db 'say so myself. But he pours a good drink and tells a good st'
 db 'ory. Although I have to keep an eye on him, I love him."'
L0360: db 00
L0361: db 'Boris'
L0366: db 00
L0367: db 'New Magincia'
L0373: db 00
L0374: db '"Oh, nothing is ever new in New Magincia, as the joke around'
 db ' here goes. But that is how we like it. We have few visitors'
 db ' here."'
L03F3: db 00
L03F4: db 'visitors'
L03FC: db 00
L03FD: db 'New Magincia'
L0409: db 00
L040A: db 'strangers'
L0413: db 00
L0414: db 'visitors'
L041C: db 00
L041D: db '"I hear there are three other new arrivals wandering around '
 db 'here somewhere. I always try to give people the benefit of t'
 db 'he doubt, but be careful of them."'
L04B7: db 00
L04B8: db 'new arrivals'
L04C4: db 00
L04C5: db 'visitors'
L04CD: db 00
L04CE: db 'strangers'
L04D7: db 00
L04D8: db 'new arrivals'
L04E4: db 00
L04E5: db '"Certainly some of the other townsfolk must have seen them b'
 db 'y now. Perhaps they will have more information."'
L0551: db 00
L0552: db 'new arrivals'
L055E: db 00
L055F: db 'locket'
L0565: db 00
L0566: db 'You see the locket Henry described to you hanging around Mag'
 db 'enta's neck. "Is it not beautiful? I found it in the secret '
 db 'hiding place behind mine husband's bar."'
L0606: db 00
L0607: db 'found'
L060C: db 00
L060D: db 'locket'
L0613: db 00
L0614: db 'found'
L0619: db 00
L061A: db '"I would never have suspected anything so romantic from Bori'
 db 's. The locket must be a surprise for me!"'
L067F: db 00
L0680: db 'surprise'
L0688: db 00
L0689: db 'romantic'
L0691: db 00
L0692: db 'found'
L0697: db 00
L0698: db 'romantic'
L06A0: db 00
L06A1: db '"He must be trying to get back on my good side after all of '
 db 'the times I have caught him wenching and carousing."'
L0711: db 00
L0712: db '"Well, I -did- think he was going to give it to me to make u'
 db 'p for all the times I have caught him wenching and carousing'
 db '."'
L078C: db 00
L078D: db 'carousing'
L0796: db 00
L0797: db 'romantic'
L079F: db 00
L07A0: db 'carousing'
L07A9: db 00
L07AA: db '"Say, dost thou think that Boris could have meant to give th'
 db 'is locket to someone else?"'
L0801: db 00
L0802: db 'Magenta's eyes widen in shock. "Who?"'
L0827: db 00
L0828: db 'don't know who'
L0836: db 00
L0837: db 'Constance'
L0840: db 00
L0841: db 'Constance'
L084A: db 00
L084B: db '"I cannot possibly wear a piece of jewelry meant for another'
 db ' woman. As mayor, I charge thee, Avatar, with the task of re'
 db 'turning it to her, or more properly to the person who had in'
 db 'tended to give it to her. As for Boris... well, I shall deal'
 db ' with him later!"'
L094C: db 00
L094D: db '"Here is the locket. Take it."'
L096B: db 00
L096C: db '"I cannot give thee the locket. Thou art too encumbered. Com'
 db 'e back after thou hast put a few things down."'
L09D6: db 00
L09D7: db 'don't know who'
L09E5: db 00
L09E6: db 'Magenta looks puzzled. "I wonder who it could be?'
L0A17: db 00
L0A18: db 'Then Magenta gets a devilish gleam in her eye. "Well then. I'
 db ' shall just beat it out of him!"'
L0A74: db 00
L0A75: db 'Magenta sighs with relief. "I am glad thou hast said this. N'
 db 'ow I shall feel no guilt about keeping it."'
L0ADC: db 00
L0ADD: db 'carousing'
L0AE6: db 00
L0AE7: db 'surprise'
L0AEF: db 00
L0AF0: db '"I am flattered Boris would buy me such an obviously expensi'
 db 've gift. But how could he ever have afforded it?"'
L0B5D: db 00
L0B5E: db 'don't know how'
L0B6C: db 00
L0B6D: db 'stolen'
L0B73: db 00
L0B74: db 'stolen'
L0B7A: db 00
L0B7B: db 'Although Magenta struggles to retain her dignity, she cannot'
 db ' hide her disappointment. "As Mayor, I charge thee with the '
 db 'task of locating the rightful owner of this locket and retur'
 db 'ning it to them."'
L0C40: db 00
L0C41: db '"Here it is. Take it."'
L0C57: db 00
L0C58: db '"Thou hast not room to carry even such a small thing as this'
 db '! If thou wilt set something down, I will give thee the lock'
 db 'et."'
L0CD4: db 00
L0CD5: db 'don't know how'
L0CE3: db 00
L0CE4: db 'Magenta looks puzzled. Then she smiles. "Oh well. It sure is'
 db ' nice, is it not? If he thought this would improve our marit'
 db 'al relations, he was not altogether wrong!"'
L0D87: db 00
L0D88: db '"Well, I thought at first that Boris had bought the locket f'
 db 'or me as a surprise! Wait until I get mine hands on that no '
 db 'good..." Magenta's face turns as red as her hair.'
L0E31: db 00
L0E32: db 'surprise'
L0E3A: db 00
L0E3B: db 'bye'
L0E3E: db 00
L0E3F: db '"I look forward to the next time when I will see thee."*'
L0E77: db 00
  .code
  .argc 0001H
  .localc 0005H
  .externsize 0004H
  .extern 0909H
  .extern 090AH
  .extern 090BH
  .extern 092EH
0000: 48   push eventid
0001: 1F 01 00   pushi 0001H   ; 1
0004: 22   cmpeq
0005: 05 AB 02   jne 02B3
0008: 1F 00 00   pushi 0000H   ; 0
000B: 1F 7D FF   pushi FF7DH   ; -131
000E: 39 03 00 02  calli _SwitchTalkTo@2  ; 0003
0012: 24 00 00   call [0000]   ; 0909H
0015: 12 00 00   pop [0000]
0018: 1D 00 00   pushs L0000   ; bye
001B: 1D 04 00   pushs L0004   ; job
001E: 1D 08 00   pushs L0008   ; name
0021: 1E 03 00   arrc 0003H   ; 3
0024: 39 05 00 01  calli _AddAnswer@1  ; 0005
0028: 42 7E 01   pushf flag:[017E]
002B: 42 7F 01   pushf flag:[017F]
002E: 10   not
002F: 0E   and
0030: 05 07 00   jne 003A
0033: 1D 0D 00   pushs L000D   ; locket
0036: 39 05 00 01  calli _AddAnswer@1  ; 0005
003A: 42 80 01   pushf flag:[0180]
003D: 05 07 00   jne 0047
0040: 1D 14 00   pushs L0014   ; strangers
0043: 39 05 00 01  calli _AddAnswer@1  ; 0005
0047: 42 8C 01   pushf flag:[018C]
004A: 10   not
004B: 05 0B 00   jne 0059
004E: 1C 1E 00   addsi L001E   ; You see a humble-...
0051: 33   say
0052: 13   push true
0053: 43 8C 01   popf flag:[018C]
0056: 06 0A 00   jmp 0063
0059: 1C 64 00   addsi L0064   ; Magenta smiles. "...
005C: 2F 00 00   addsv [0000]
005F: 1C 80 00   addsi L0080   ; . May I help thee?"
0062: 33   say
0063: 04 48 02   je 02AE
0066: 1D 94 00   pushs L0094   ; name
0069: 07 01 00 12 00  cmps 0001H, 0080
006E: 1C 99 00   addsi L0099   ; "I am Magenta, of...
0071: 33   say
0072: 1D BA 00   pushs L00BA   ; name
0075: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
0079: 1D BF 00   pushs L00BF   ; New Magincia
007C: 39 05 00 01  calli _AddAnswer@1  ; 0005
0080: 1D CC 00   pushs L00CC   ; job
0083: 07 01 00 11 00  cmps 0001H, 0099
0088: 1C D0 00   addsi L00D0   ; "I am the Mayor o...
008B: 33   say
008C: 1D 09 01   pushs L0109   ; Boris
008F: 1D 0F 01   pushs L010F   ; Mayor
0092: 1E 02 00   arrc 0002H   ; 2
0095: 39 05 00 01  calli _AddAnswer@1  ; 0005
0099: 1D 15 01   pushs L0115   ; Mayor
009C: 07 01 00 12 00  cmps 0001H, 00B3
00A1: 1C 1B 01   addsi L011B   ; "It is a job that...
00A4: 33   say
00A5: 1D D5 01   pushs L01D5   ; Mayor
00A8: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
00AC: 1D DB 01   pushs L01DB   ; administration
00AF: 39 05 00 01  calli _AddAnswer@1  ; 0005
00B3: 1D EA 01   pushs L01EA   ; administration
00B6: 07 01 00 0B 00  cmps 0001H, 00C6
00BB: 1C F9 01   addsi L01F9   ; "Why even the tax...
00BE: 33   say
00BF: 1D 9B 02   pushs L029B   ; administration
00C2: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
00C6: 1D AA 02   pushs L02AA   ; Boris
00C9: 07 01 00 0B 00  cmps 0001H, 00D9
00CE: 1C B0 02   addsi L02B0   ; "Boris is the loc...
00D1: 33   say
00D2: 1D 61 03   pushs L0361   ; Boris
00D5: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
00D9: 1D 67 03   pushs L0367   ; New Magincia
00DC: 07 01 00 12 00  cmps 0001H, 00F3
00E1: 1C 74 03   addsi L0374   ; "Oh, nothing is e...
00E4: 33   say
00E5: 1D F4 03   pushs L03F4   ; visitors
00E8: 39 05 00 01  calli _AddAnswer@1  ; 0005
00EC: 1D FD 03   pushs L03FD   ; New Magincia
00EF: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
00F3: 1D 0A 04   pushs L040A   ; strangers
00F6: 1D 14 04   pushs L0414   ; visitors
00F9: 07 02 00 18 00  cmps 0002H, 0116
00FE: 1C 1D 04   addsi L041D   ; "I hear there are...
0101: 33   say
0102: 1D B8 04   pushs L04B8   ; new arrivals
0105: 39 05 00 01  calli _AddAnswer@1  ; 0005
0109: 1D C5 04   pushs L04C5   ; visitors
010C: 1D CE 04   pushs L04CE   ; strangers
010F: 1E 02 00   arrc 0002H   ; 2
0112: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
0116: 1D D8 04   pushs L04D8   ; new arrivals
0119: 07 01 00 0B 00  cmps 0001H, 0129
011E: 1C E5 04   addsi L04E5   ; "Certainly some o...
0121: 33   say
0122: 1D 52 05   pushs L0552   ; new arrivals
0125: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
0129: 1D 5F 05   pushs L055F   ; locket
012C: 07 01 00 12 00  cmps 0001H, 0143
0131: 1C 66 05   addsi L0566   ; You see the locke...
0134: 33   say
0135: 1D 07 06   pushs L0607   ; found
0138: 39 05 00 01  calli _AddAnswer@1  ; 0005
013C: 1D 0D 06   pushs L060D   ; locket
013F: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
0143: 1D 14 06   pushs L0614   ; found
0146: 07 01 00 18 00  cmps 0001H, 0163
014B: 1C 1A 06   addsi L061A   ; "I would never ha...
014E: 33   say
014F: 1D 80 06   pushs L0680   ; surprise
0152: 1D 89 06   pushs L0689   ; romantic
0155: 1E 02 00   arrc 0002H   ; 2
0158: 39 05 00 01  calli _AddAnswer@1  ; 0005
015C: 1D 92 06   pushs L0692   ; found
015F: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
0163: 1D 98 06   pushs L0698   ; romantic
0166: 07 01 00 20 00  cmps 0001H, 018B
016B: 42 7F 01   pushf flag:[017F]
016E: 10   not
016F: 05 07 00   jne 0179
0172: 1C A1 06   addsi L06A1   ; "He must be tryin...
0175: 33   say
0176: 06 04 00   jmp 017D
0179: 1C 12 07   addsi L0712   ; "Well, I -did- th...
017C: 33   say
017D: 1D 8D 07   pushs L078D   ; carousing
0180: 39 05 00 01  calli _AddAnswer@1  ; 0005
0184: 1D 97 07   pushs L0797   ; romantic
0187: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
018B: 1D A0 07   pushs L07A0   ; carousing
018E: 07 01 00 89 00  cmps 0001H, 021C
0193: 1C AA 07   addsi L07AA   ; "Say, dost thou t...
0196: 33   say
0197: 24 01 00   call [0001]   ; 090AH
019A: 12 01 00   pop [0001]
019D: 21 01 00   push [0001]
01A0: 05 6E 00   jne 0211
01A3: 1C 02 08   addsi L0802   ; Magenta's eyes wi...
01A6: 33   say
01A7: 39 07 00 00  calli _SaveAnswers@0  ; 0007
01AB: 1D 28 08   pushs L0828   ; don't know who
01AE: 1D 37 08   pushs L0837   ; Constance
01B1: 1E 02 00   arrc 0002H   ; 2
01B4: 24 02 00   call [0002]   ; 090BH
01B7: 12 02 00   pop [0002]
01BA: 21 02 00   push [0002]
01BD: 1D 41 08   pushs L0841   ; Constance
01C0: 22   cmpeq
01C1: 05 34 00   jne 01F8
01C4: 1C 4B 08   addsi L084B   ; "I cannot possibl...
01C7: 33   say
01C8: 42 7F 01   pushf flag:[017F]
01CB: 10   not
01CC: 05 29 00   jne 01F8
01CF: 14   push false
01D0: 1F 02 00   pushi 0002H   ; 2
01D3: 1F 99 FE   pushi FE99H   ; -359
01D6: 1F BB 03   pushi 03BBH   ; 955
01D9: 1F 01 00   pushi 0001H   ; 1
01DC: 38 2C 00 05  callis 002C, 5
01E0: 12 03 00   pop [0003]
01E3: 21 03 00   push [0003]
01E6: 05 0B 00   jne 01F4
01E9: 1C 4D 09   addsi L094D   ; "Here is the lock...
01EC: 33   say
01ED: 13   push true
01EE: 43 7F 01   popf flag:[017F]
01F1: 06 04 00   jmp 01F8
01F4: 1C 6C 09   addsi L096C   ; "I cannot give th...
01F7: 33   say
01F8: 21 02 00   push [0002]
01FB: 1D D7 09   pushs L09D7   ; don't know who
01FE: 22   cmpeq
01FF: 05 08 00   jne 020A
0202: 1C E6 09   addsi L09E6   ; Magenta looks puz...
0205: 33   say
0206: 1C 18 0A   addsi L0A18   ; Then Magenta gets...
0209: 33   say
020A: 39 08 00 00  calli _RestoreAnswers@0  ; 0008
020E: 06 04 00   jmp 0215
0211: 1C 75 0A   addsi L0A75   ; Magenta sighs wit...
0214: 33   say
0215: 1D DD 0A   pushs L0ADD   ; carousing
0218: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
021C: 1D E7 0A   pushs L0AE7   ; surprise
021F: 07 01 00 7C 00  cmps 0001H, 02A0
0224: 42 7F 01   pushf flag:[017F]
0227: 10   not
0228: 05 6A 00   jne 0295
022B: 1C F0 0A   addsi L0AF0   ; "I am flattered B...
022E: 33   say
022F: 39 07 00 00  calli _SaveAnswers@0  ; 0007
0233: 1D 5E 0B   pushs L0B5E   ; don't know how
0236: 1D 6D 0B   pushs L0B6D   ; stolen
0239: 1E 02 00   arrc 0002H   ; 2
023C: 24 02 00   call [0002]   ; 090BH
023F: 12 04 00   pop [0004]
0242: 21 04 00   push [0004]
0245: 1D 74 0B   pushs L0B74   ; stolen
0248: 22   cmpeq
0249: 05 34 00   jne 0280
024C: 1C 7B 0B   addsi L0B7B   ; Although Magenta ...
024F: 33   say
0250: 42 7F 01   pushf flag:[017F]
0253: 10   not
0254: 05 29 00   jne 0280
0257: 14   push false
0258: 1F 02 00   pushi 0002H   ; 2
025B: 1F 99 FE   pushi FE99H   ; -359
025E: 1F BB 03   pushi 03BBH   ; 955
0261: 1F 01 00   pushi 0001H   ; 1
0264: 38 2C 00 05  callis 002C, 5
0268: 12 03 00   pop [0003]
026B: 21 03 00   push [0003]
026E: 05 0B 00   jne 027C
0271: 1C 41 0C   addsi L0C41   ; "Here it is. Take...
0274: 33   say
0275: 13   push true
0276: 43 7F 01   popf flag:[017F]
0279: 06 04 00   jmp 0280
027C: 1C 58 0C   addsi L0C58   ; "Thou hast not ro...
027F: 33   say
0280: 21 04 00   push [0004]
0283: 1D D5 0C   pushs L0CD5   ; don't know how
0286: 22   cmpeq
0287: 05 04 00   jne 028E
028A: 1C E4 0C   addsi L0CE4   ; Magenta looks puz...
028D: 33   say
028E: 39 08 00 00  calli _RestoreAnswers@0  ; 0008
0292: 06 04 00   jmp 0299
0295: 1C 88 0D   addsi L0D88   ; "Well, I thought ...
0298: 33   say
0299: 1D 32 0E   pushs L0E32   ; surprise
029C: 39 06 00 01  calli _RemoveAnswer@1  ; 0006
02A0: 1D 3B 0E   pushs L0E3B   ; bye
02A3: 07 01 00 03 00  cmps 0001H, 02AB
02A8: 06 03 00   jmp 02AE
02AB: 06 B5 FD   jmp 0063
02AE: 40   db 40 ???
02AF: 1C 3F 0E   addsi L0E3F   ; "I look forward t...
02B2: 33   say
02B3: 48   push eventid
02B4: 1F 00 00   pushi 0000H   ; 0
02B7: 22   cmpeq
02B8: 05 06 00   jne 02C1
02BB: 1F 7D FF   pushi FF7DH   ; -131
02BE: 24 03 00   call [0003]   ; 092EH
02C1: 25   ret
