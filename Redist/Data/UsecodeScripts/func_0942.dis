  .funcnumber 0942H ;* Handle torch, candle.
  .data
L0000: db 'Spent'
L0005: db 00
  .code
  .argc 0002H
  .localc 0004H
  .externsize 0001H
  .extern 0905H
0000: 21 01 00   push [0001]
0003: 38 12 00 01  callis _GetItemFrame@1  ; 0012
0007: 12 02 00   pop [0002]
000A: 21 01 00   push [0001]
000D: 38 14 00 01  callis _GetItemQuality@1  ; 0014
0011: 10   not
0012: 05 14 00   jne 0029 ;* Jmp if not 0.
0015: 1F 3C 00   pushi 003CH   ; 60
0018: 1F 1E 00   pushi 001EH   ; 30
001B: 38 10 00 02  callis _Random2@2  ; 0010
001F: 21 01 00   push [0001]
0022: 38 15 00 02  callis 0015, 2 ;* Set quality.
0026: 12 03 00   pop [0003]
0029: 21 01 00   push [0001]
002C: 38 11 00 01  callis _GetItemType@1  ; 0011
0030: 1F 53 02   pushi 0253H   ; 595
0033: 22   cmpeq
0034: 05 19 00   jne 0050
0037: 21 01 00   push [0001]
003A: 38 14 00 01  callis _GetItemQuality@1  ; 0014
003E: 1F FF 00   pushi 00FFH   ; 255
0041: 22   cmpeq
0042: 05 0B 00   jne 0050
0045: 1D 00 00   pushs L0000   ; Spent
0048: 21 01 00   push [0001]
004B: 39 40 00 02  calli _ItemSay@2  ; 0040
004F: 2C   db 2c ???
0050: 21 01 00   push [0001]
0053: 38 6E 00 01  callis 006E, 1  ;* Torch's container.
0057: 12 04 00   pop [0004]
005A: 21 04 00   push [0004]
005D: 1F 00 00   pushi 0000H   ; 0
0060: 22   cmpeq
0061: 21 04 00   push [0004]
0064: 38 31 00 01  callis 0031, 1  ;* NPC?
0068: 0F   or
0069: 05 22 00   jne 008E  ;* Jmp if !cont && npc.
006C: 21 00 00   push [0000]
006F: 3E   push itemref
0070: 39 0D 00 02  calli _SetItemType@2  ; 000D
0074: 38 23 00 00  callis _GetPartyMembers@0  ; 0023
0078: 12 05 00   pop [0005]
007B: 21 04 00   push [0004]
007E: 21 05 00   push [0005]
0081: 30   in
0082: 05 06 00   jne 008B  ;* Must be a party member.
0085: 21 01 00   push [0001]
0088: 24 00 00   call [0000]   ; 0905H
008B: 06 07 00   jmp 0095
008E: 1F 00 00   pushi 0000H   ; 0
0091: 39 6A 00 01  calli 006A, 1  ;* Flash mouse.
0095: 13   push true
0096: 21 01 00   push [0001]
0099: 39 82 00 02  calli 0082, 2
009D: 39 84 00 00  calli 0084, 0
00A1: 25   ret
